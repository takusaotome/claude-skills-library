# Claude Code Windows インストールガイド

Windowsパソコンを日常的に使用している方向けに、Claude Codeのインストール手順を丁寧に解説します。

> **対象読者**: コマンドプロンプト（黒い画面）を使ったことがなくても大丈夫ですが、ソフトウェアのインストール経験がある方を想定しています。

---

## 目次

1. [はじめに](#1-はじめに)
2. [インストール前の確認事項](#2-インストール前の確認事項)
3. [認証方法の選択](#3-認証方法の選択)
4. [方法A: コマンドプロンプトでインストール（推奨）](#4-方法a-コマンドプロンプトでインストール推奨)
5. [方法B: PowerShellでインストール](#5-方法b-powershellでインストール)
6. [方法C: 自動インストールスクリプト](#6-方法c-自動インストールスクリプト)
7. [Claude Desktopアプリのインストール（オプション）](#7-claude-desktopアプリのインストールオプション)
8. [トラブルシューティング](#8-トラブルシューティング)
9. [アンインストール方法](#9-アンインストール方法)
10. [よくある質問](#10-よくある質問)
11. [用語集](#11-用語集)

---

## 1. はじめに

### Claude Codeとは

Claude Codeは、AnthropicのAI「Claude」をパソコンの**コマンドプロンプト**（黒い画面）から使えるツールです。

**こんなことができます:**
- パソコン内のファイルをClaudeに見せて、内容について質問する
- プログラムのコードを書いてもらう、修正してもらう
- ファイルの整理や編集を手伝ってもらう

> **用語解説**: コマンドプロンプトとは、文字を入力してパソコンを操作する画面のことです。黒い背景に白い文字が表示される、昔ながらの操作方法です。

### Claude Desktop と Claude Code の違い

| 項目 | Claude Desktop | Claude Code |
|------|---------------|-------------|
| 画面 | 通常のアプリ画面 | 黒い画面（コマンドプロンプト） |
| 操作方法 | マウスでクリック | キーボードで文字入力 |
| 主な用途 | 会話、文書作成、質問回答 | ファイル操作、プログラミング |
| ファイルアクセス | 制限あり | パソコン内のファイルに直接アクセス可能 |

**Pro/Maxプランをお持ちの方**: 両方のツールが同じ月額料金で使用できます。追加料金はかかりません。

---

## 2. インストール前の確認事項

### 必要なもの

| 項目 | 要件 | 確認方法 |
|------|------|---------|
| **OS** | Windows 10 (バージョン20H2以降) または Windows 11 | `Win + R` → 「winver」で確認 |
| **インターネット接続** | 必要 | ブラウザでWebサイトが見られればOK |
| **Git for Windows** | 必要（後でインストール方法を説明） | コマンドプロンプトで `git --version` |
| **空きディスク容量** | 約500MB | - |
| **管理者権限** | 通常は不要 | - |

### よくある誤解（先に知っておくと安心）

- **Node.jsは不要です** - 古い情報では必要とされていましたが、現在は不要です
- **WSL（Windows Subsystem for Linux）は不要です** - Linuxの知識は必要ありません
- **プログラミング経験は不要です** - Claude Codeを使うのにプログラマーである必要はありません

### セキュリティに関する注意事項

このガイドでは、**インターネットからプログラムをダウンロードして実行**します。以下の点にご注意ください：

1. **信頼できるソースのみ使用**: このガイドで使用するのは、Anthropic公式（claude.ai）とGit公式（git-scm.com）のみです
2. **会社のパソコンをお使いの方**: **必ずIT部門に確認してから**インストールしてください。会社のセキュリティポリシーに違反する可能性があります
3. **ウイルス対策ソフトの警告**: インストール中に警告が出る場合がありますが、上記の公式サイトからダウンロードしたものであれば問題ありません

---

## 3. 認証方法の選択

Claude Codeを使うには、Claudeのアカウントでログインする必要があります。

### どちらを選ぶ？ フローチャート

```
あなたは既にClaude Pro/Max（月額$20〜$200）に加入していますか？
│
├─【はい】→ オプション1: Claude Pro/Maxプラン を使用
│            （追加料金なしでClaude Codeが使えます）
│
└─【いいえ】→ 新しく始める場合
              │
              ├─ 月額固定料金がいい → オプション1に新規加入
              │
              └─ 使った分だけ払いたい → オプション2: Claude Console (API)
```

### オプション1: Claude Pro/Maxプラン（推奨）

**料金体系:**
- **Pro**: $20/月（約3,000円）
- **Max 5x**: $100/月（約15,000円）
- **Max 20x**: $200/月（約30,000円）

**特徴:**
- Claude DesktopとClaude Codeが両方使える
- 月額固定なので安心
- ブラウザでログインするだけで簡単

### オプション2: Claude Console（API/従量課金）

**料金体系:**
- 使用量に応じた従量課金
- 最初に支払い方法の登録が必要

**特徴:**
- 使った分だけ支払い
- 企業・法人での利用に適している
- APIキーでの認証

---

## 4. 方法A: コマンドプロンプトでインストール（推奨）

最も確実な方法です。1つずつ順番に進めてください。

### Step 1: Git for Windowsのインストール

> **Gitとは？**: プログラマーがよく使うツールで、Claude Codeが内部で使用する機能を提供します。Git自体を使う必要はありませんが、インストールは必要です。

1. [Git for Windows公式サイト](https://git-scm.com/downloads/win) を開く
2. 「**Click here to download**」または「**Download for Windows**」をクリック
3. ダウンロードしたファイル（例: `Git-2.xx.x-64-bit.exe`）をダブルクリック
4. インストーラーが起動したら、基本的に「Next」を押していく

5. **重要**: 「**Adjusting your PATH environment**」という画面が表示されたら：
   - **2番目の選択肢**「**Git from the command line and also from 3rd-party software**」を選択
   - これを選ばないと、Claude Codeが正しく動作しません

   ```
   ┌─────────────────────────────────────────────────────┐
   │ Adjusting your PATH environment                     │
   │                                                     │
   │ ○ Use Git from Git Bash only                       │
   │ ◉ Git from the command line and also from ...  ← これを選ぶ │
   │ ○ Use Git and optional Unix tools from the ...    │
   └─────────────────────────────────────────────────────┘
   ```

6. 残りは「Next」→「Install」→「Finish」で完了

7. **パソコンを再起動する**か、開いているすべての黒い画面（コマンドプロンプト）を閉じる

### Step 2: Gitのインストール確認

1. **コマンドプロンプトを開く**:
   - キーボードで `Win + R` を押す（Windowsキーを押しながらRキー）
   - 「cmd」と入力して Enter キーを押す
   - 黒い画面が開きます

2. 以下を入力して Enter:
   ```
   git --version
   ```

3. **成功した場合**: `git version 2.xx.x` のような表示が出ます
4. **失敗した場合**: 「'git' は認識されていません」と出たら、パソコンを再起動してから再試行

### Step 3: Claude Codeのインストール

1. 同じコマンドプロンプトで、以下のコマンドを入力:

   ```cmd
   curl -fsSL https://claude.ai/install.cmd -o install.cmd && install.cmd && del install.cmd
   ```

   > **このコマンドの意味**:
   > - `curl`: インターネットからファイルをダウンロード
   > - `https://claude.ai/install.cmd`: Anthropic公式のインストーラー
   > - `&&`: 前のコマンドが成功したら次を実行
   > - 最後に不要になったファイルを削除

2. Enter キーを押して実行
3. インストールが完了するまで待つ（数分かかる場合があります）

4. **成功の確認**: 「Installation complete」のようなメッセージが表示されればOK

### Step 4: 新しいコマンドプロンプトを開く

> **なぜ新しく開く必要があるの？**
> インストール時に設定された「PATH環境変数」（プログラムの場所を記録した設定）は、既に開いている画面には反映されません。新しく開くことで、設定が有効になります。

1. 今開いているコマンドプロンプトを**閉じる**（右上の×ボタン）
2. **新しく**コマンドプロンプトを開く（`Win + R` → 「cmd」→ Enter）

### Step 5: Claude Codeを起動して認証

1. 新しいコマンドプロンプトで以下を入力して Enter:
   ```
   claude
   ```

2. 認証方法の選択画面が表示されます:
   - **Pro/Maxプランの方**: 「**Claude.ai (OAuth)**」または「**Claude App**」を選択
   - **API利用の方**: 「**Claude Console**」または「**Anthropic API**」を選択

3. ブラウザが自動的に開きます
4. Claudeアカウントでログイン
5. ブラウザで「認証完了」と表示されたら、コマンドプロンプトに戻る

6. **成功!** Claude Codeが使えるようになりました

### うまくいかない場合

以下のエラーが出た場合は、[Step 6: 環境変数の手動設定](#step-6-環境変数の手動設定必要な場合のみ) に進んでください：
- 「'claude' は、内部コマンドまたは外部コマンド...として認識されていません」

---

### Step 6: 環境変数の手動設定（必要な場合のみ）

> **PATH環境変数とは？**
> Windowsがプログラムを探すための「住所録」のようなものです。ここにClaude Codeの場所を登録することで、どこからでも `claude` と入力するだけで起動できるようになります。

`claude` コマンドが認識されない場合、以下の手順で設定してください：

1. **設定画面を開く**: キーボードで `Win + I` を押す

2. **システムの詳細設定へ移動**:
   - Windows 11: 「システム」→「バージョン情報」→「システムの詳細設定」
   - Windows 10: 「システム」→「詳細情報」→「システムの詳細設定」

3. 「**環境変数**」ボタンをクリック

4. **ユーザー環境変数**（上の表）で「**Path**」を選択して「**編集**」

5. 「**新規**」をクリックして以下を追加:
   ```
   %USERPROFILE%\.local\bin
   ```
   > **%USERPROFILE%とは？**: あなたのユーザーフォルダを指す記号です。例: `C:\Users\あなたの名前`

6. 「**OK**」を3回クリックしてすべてのダイアログを閉じる

7. **コマンドプロンプトを閉じて、新しく開き直す**

8. `claude --version` を実行して、バージョンが表示されればOK

---

## 5. 方法B: PowerShellでインストール

コマンドプロンプトの代わりに、PowerShellを使用する方法です。

> **PowerShellとは？**: コマンドプロンプトの新しいバージョンのようなもので、青い背景の画面です。

### 手順

1. **PowerShellを開く**:
   - `Win + X` を押して「Windows PowerShell」を選択
   - または、スタートメニューで「PowerShell」と検索

2. Git for Windowsがインストールされていることを確認:
   ```powershell
   git --version
   ```

3. 以下のコマンドを入力して Enter:
   ```powershell
   irm https://claude.ai/install.ps1 | iex
   ```

   > **このコマンドの意味**:
   > - `irm`: Invoke-RestMethod（インターネットからデータを取得）
   > - `iex`: Invoke-Expression（取得したスクリプトを実行）

4. インストール完了後、**PowerShellを閉じて新しく開き直す**

5. `claude` を実行して認証

### 注意事項

- 実行ポリシーの警告が出た場合は、一時的に許可するか、方法Aを使用してください
- 企業環境では、セキュリティポリシーによりブロックされる場合があります

---

## 6. 方法C: 自動インストールスクリプト

すべての手順を自動化したバッチファイルを使用する方法です。

### 手順

1. [install-claude-code.bat](../scripts/claude-code-windows-installer/install-claude-code.bat) をダウンロード

2. ダウンロードしたファイルをダブルクリック

3. 黒い画面が開き、自動的にインストールが進みます:
   - Git未インストールの場合 → ダウンロードページが開きます
   - Gitインストール後、再度バッチファイルを実行してください

4. 完了後、**新しいコマンドプロンプトを開いて** `claude` を実行

### 注意事項

- このスクリプトはPATH環境変数を自動的に設定します
- セキュリティソフトが警告を出す場合がありますが、このリポジトリからダウンロードしたものであれば安全です

---

## 7. Claude Desktopアプリのインストール（オプション）

Pro/Maxプランをお持ちの方は、デスクトップアプリも使えます。

### インストール手順

1. [Claude公式サイト](https://claude.com/download) を開く
2. 「Download for Windows」をクリック
3. ダウンロードしたインストーラーを実行
4. インストール完了後、Claudeアカウントでログイン

### Claude Desktopのメリット

- 通常のアプリのように使える（黒い画面が苦手な方に）
- 会話履歴がクラウドで同期される
- Claude Codeと同じ月額料金で使える

---

## 8. トラブルシューティング

### 「'claude' は...認識されていません」

**原因**: PATH環境変数にClaude Codeの場所が登録されていません。

**解決方法**:
1. まず、新しいコマンドプロンプトを開いて再試行
2. それでもダメなら、[Step 6: 環境変数の手動設定](#step-6-環境変数の手動設定必要な場合のみ) を実行

**直接実行する方法**（応急処置）:
```cmd
%USERPROFILE%\.local\bin\claude.exe
```

---

### 「Git is not installed」と表示される

**解決方法**:
1. [Git for Windows](https://git-scm.com/downloads/win) をインストール
2. インストール時に「**Git from the command line and also from 3rd-party software**」を選択（重要!）
3. **パソコンを再起動**してから再試行

---

### Gitインストール時に間違ったオプションを選んでしまった

**解決方法**:
1. 「コントロールパネル」→「プログラムのアンインストール」
2. 「Git」を選択してアンインストール
3. 再度Git for Windowsをインストールし、正しいオプションを選択

---

### ブラウザが開かない（認証できない）

**考えられる原因と対策**:
1. **デフォルトブラウザが未設定**: 設定アプリでデフォルトブラウザを設定
2. **ファイアウォールがブロック**: 一時的に無効にして試す
3. **手動で認証**: コマンドプロンプトに表示されたURLをブラウザに直接貼り付け

---

### 「ANTHROPIC_API_KEY」に関するエラー

**原因**: 以前にAPI認証を設定したことがある場合に発生します。

**解決方法**（Pro/Maxプランに切り替えたい場合）:
```cmd
claude /logout
claude
```
その後、「Claude.ai (OAuth)」を選択

---

### インストーラーのダウンロードに失敗

**考えられる原因**:
- インターネット接続の問題
- 会社のプロキシ/ファイアウォール
- セキュリティソフトによるブロック

**解決方法**:
1. インターネット接続を確認
2. 会社のPCの場合、IT部門に相談
3. セキュリティソフトを一時的に無効化して試す

---

## 9. アンインストール方法

Claude Codeを削除したい場合の手順です。

### Claude Codeの削除

1. **インストールフォルダを削除**:
   - エクスプローラーで以下のフォルダを開く:
     ```
     %USERPROFILE%\.local\bin
     ```
   - `claude.exe` と関連ファイルを削除

2. **設定フォルダを削除**（オプション）:
   ```
   %USERPROFILE%\.claude
   ```

3. **PATH環境変数から削除**:
   - `Win + I` → システム → バージョン情報 → システムの詳細設定 → 環境変数
   - ユーザー環境変数の「Path」から `%USERPROFILE%\.local\bin` を削除

### PATH環境変数を元に戻す

インストール時に追加されたパスを削除するだけでOKです。他の項目は触らないでください。

---

## 10. よくある質問

### Q: Claude CodeとClaude Desktopは何が違いますか？

A: **Claude Desktop**は通常のチャットアプリ、**Claude Code**はパソコンのファイルを直接操作できるプロ向けツールです。プログラマーでなくても、ファイル整理や文書作成の自動化に使えます。

---

### Q: 料金はかかりますか？

A: 以下のいずれかの方法で利用できます：
- **Claude Pro**: $20/月（約3,000円）
- **Claude Max 5x**: $100/月（約15,000円）
- **Claude Max 20x**: $200/月（約30,000円）
- **Claude Console (API)**: 使用量に応じた従量課金

---

### Q: 使用量の上限はありますか？

A: Pro/Maxプランには5時間ごとの使用量上限があります:

| プラン | 目安（5時間あたり） | 何で変わる？ |
|--------|-------------------|-------------|
| Pro | 10〜40プロンプト | メッセージの長さ、添付ファイルのサイズ |
| Max 5x | 50〜200プロンプト | 同上 |
| Max 20x | 200〜800プロンプト | 同上 |

詳細は[公式ドキュメント](https://support.claude.com/en/articles/11014257-about-claude-s-max-plan-usage)をご覧ください。

---

### Q: 会社のPCで使用できますか？

A: **必ずIT部門に確認してください**。企業向けには「Team」または「Enterprise」プランがあり、セキュリティ要件を満たしています。

---

### Q: Node.jsやWSLは必要ですか？

A: **どちらも不要です**。古いインストール方法（npm経由）では必要でしたが、現在のネイティブインストーラーでは不要になりました。

---

### Q: インストールに失敗した場合、パソコンに影響はありますか？

A: 基本的にありません。このガイドで変更されるのは:
1. `%USERPROFILE%\.local\bin` フォルダ（作成される）
2. PATH環境変数（1行追加される）

これらは簡単に元に戻せます（[アンインストール方法](#9-アンインストール方法)参照）。

---

## 11. 用語集

| 用語 | 意味 |
|------|------|
| **コマンドプロンプト** | 文字を入力してパソコンを操作する黒い画面。Windowsに標準搭載。 |
| **PowerShell** | コマンドプロンプトの進化版。青い背景の画面。 |
| **ターミナル** | コマンドプロンプトやPowerShellの総称。「黒い画面」の一般的な呼び方。 |
| **PATH環境変数** | Windowsがプログラムを探す場所の一覧。「住所録」のようなもの。 |
| **Git** | プログラマー向けのツール。Claude Codeが内部で使用する機能を提供。 |
| **curl** | インターネットからファイルをダウンロードするコマンド。 |
| **%USERPROFILE%** | あなたのユーザーフォルダ（例: `C:\Users\あなたの名前`）を指す記号。 |
| **%LOCALAPPDATA%** | アプリのデータを保存するフォルダを指す記号。 |
| **OAuth** | ブラウザでログインして認証する方式。パスワードを直接入力しないので安全。 |
| **API** | プログラム同士が通信するための仕組み。APIキーで認証する方式。 |

---

## 参考リンク

- [Claude Code 公式ドキュメント](https://code.claude.com/docs/en/setup)
- [Claude Pro/Maxプランでの利用](https://support.claude.com/en/articles/11145838-using-claude-code-with-your-pro-or-max-plan)
- [使用量の上限について](https://support.claude.com/en/articles/11014257-about-claude-s-max-plan-usage)
- [Git for Windows](https://git-scm.com/downloads/win)
- [Claude ダウンロード](https://claude.com/download)

---

*最終更新: 2025年12月*
