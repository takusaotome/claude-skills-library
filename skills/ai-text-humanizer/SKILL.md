---
name: ai-text-humanizer
description: >
  AI（LLM）が生成した日本語テキストの「AI臭」を検出・診断し、人間らしい文章にリライトするスキル。
  Use when: 「AIっぽい文章を直して」「人間らしくリライトして」「AI臭を消して」「この文章をもっと自然にして」
  「テキストのAI感を減らして」「機械っぽさを取りたい」
  "make this sound more human", "remove AI tone", "humanize this text",
  "detect if this is AI-generated".
  6つのAI特有パターン（視覚的マーカー、単調なリズム、マニュアル的構成、非コミット姿勢、抽象語の濫用、
  定型メタファー）を正規表現ベースで検出し、0-100のAI臭スコアを算出。3つの人間化技法
  （バランスを崩す・客観を崩す・論理を崩す）でリライトを実行する。
  Note: 検出スクリプトは日本語テキスト専用。英語テキストの場合はClaude自身がreferences/を参照して分析・リライトする。
---

# AI Text Humanizer

## Overview

LLMが生成するテキストには、人間の文章にはほとんど現れない6つの特有パターンがある。このスキルは：

1. **6パターン検出** — 視覚的マーカー残存、単調なリズム、マニュアル的構成、非コミット姿勢、抽象語の濫用、定型メタファーを正規表現ベースで検出
2. **AI臭スコアリング** — 0-100のスコアで「どのくらいAIっぽいか」を定量化
3. **人間化リライト** — 3つの技法（バランスを崩す・客観を崩す・論理を崩す）で自然な文章に変換

## When to Use

- ユーザーが「AIっぽい」「AI臭い」「機械的」「リライトして」「人間らしく」「自然にして」と言ったとき
- ブログ記事、ビジネス文書、SNS投稿などをAI生成後に人間化したいとき
- AI生成テキストの品質チェック・改善が必要なとき
- テキストがAI生成かどうかの簡易判定を求められたとき

## Bundled Resources

| Type | File | Purpose |
|------|------|---------|
| Reference | `references/ai_writing_patterns.md` | 6パターン検出ガイド（正規表現・具体例） |
| Reference | `references/rewrite_rules.md` | パターン別変換ルール |
| Reference | `references/human_writing_techniques.md` | 人間っぽく崩す3技法 |
| Script | `scripts/detect_ai_patterns.py` | パターン検出・スコアリングスクリプト |
| Asset | `assets/rewrite_prompt_ja.md` | リライトプロンプト（日本語） |
| Asset | `assets/rewrite_prompt_en.md` | リライトプロンプト（英語） |
| Asset | `assets/detection_report_template.md` | AI臭スコアレポート雛形 |

---

## Workflow 1: AI臭診断

テキストを受け取り、6パターンの検出とスコアリングを行う。

### Steps

1. **テキスト受領** — ユーザーからテキストを受け取る（ファイルパス指定。直接入力の場合は一時ファイルに保存してスクリプトに渡す）
2. **パターン検出実行** — `scripts/detect_ai_patterns.py` を実行してパターンを検出
   **Note**: 英語テキストの場合はスクリプトではなく、`references/ai_writing_patterns.md` を読み込んでClaude自身が分析する。
   ```bash
   python3 scripts/detect_ai_patterns.py <input_file> --output report.md
   ```
3. **結果確認** — スクリプト出力のスコアとパターン別内訳を確認
4. **レポート確認** — スクリプトが自動生成したレポートを確認する。`assets/detection_report_template.md` はClaude手動分析時用の雛形
5. **ユーザーへ報告** — 総合スコア、パターン別内訳、具体例、推奨アクションを提示

### Output

- 総合AI臭スコア (0-100)
- パターン別スコア内訳（6パターン）
- 検出された具体例（該当箇所の引用）
- スコア解釈と推奨アクション

---

## Workflow 2: リライト実行

検出結果を踏まえ、AI臭を除去したリライト文を生成する。

### Steps

1. **診断結果確認** — Workflow 1の結果を確認（未実施なら先に実行）
2. **リファレンス読み込み** — `references/rewrite_rules.md` と `references/human_writing_techniques.md` を読み込む
3. **変換ルール適用** — パターン別変換ルールに従い、優先順位で変換:
   - 非コミット姿勢の除去（ヘッジ語削除、立場の明確化）
   - マニュアル的構成の解体（前置き短縮、ステップ表記排除）
   - 視覚的マーカーの除去（太字、装飾記号の削除）
   - リズムの変化（文末バリエーション、文長の変化）
   - 抽象語の具体化（実例・数値・エピソードに置換）
   - 定型メタファーの削除または具体化
4. **3技法による人間化** — `references/human_writing_techniques.md` の3技法を適用:
   - **バランスを崩す**: 文体的ヘッジ（「〜かもしれません」等）を断定に変える。ただし事実的不確実性（未確定の情報・未検証のデータ）の断定化ではない
   - **客観を崩す**: 主観・経験・判断を入れる
   - **論理を崩す**: 完璧な構造を壊す、自然な脱線を入れる
5. **リライト文出力** — 変換後テキストをユーザーに提示

### Rewrite Principles (Content Rules)

1. **捏造禁止** — 元テキストにない事実・データを追加しない
2. **曖昧さ保持（事実的不確実性のみ）** — 元テキストが事実として不確実・未確定の情報は不確実なまま残す。区別基準: 「〜かもしれません」「〜の可能性があります」等の文体的ヘッジは断定化してよい。「調査中」「未確認」等の事実的不確実性は保持する
3. **意味保全** — 内容の意味を変えない
4. **トーン維持** — 元テキストの意図するトーン（フォーマル/カジュアル等）を尊重
5. **文化的配慮** — 日本語特有の表現パターンを考慮する
6. **過剰矯正回避** — すべてのパターンを一度に直そうとしない
7. **読者想定** — 元テキストの想定読者層を考慮する

### Rewrite Principles (Formatting Rules)

1. **文書種別でMarkdown方針を決める** — メール本文・チャット文はMarkdownを除去しプレーンテキスト化。ブログ記事・見積書・提案書・報告書・仕様書・設計書はMarkdown構造を保持する
2. **構造Markdownは保持** — 保持対象の文書では `## 見出し`、表、箇条書きを維持する
3. **装飾的Markdownのみ削減** — `**太字**` の連打や過剰装飾は減らす。意味を持つ構造は壊さない
4. **括弧を最小化** — `（補足説明）` は本文に溶け込ませるか削除
5. **ダッシュ・スラッシュを排除** — `—` `／` を自然な接続に置換
6. **リスト処理は用途別** — メール本文は文章化、ブログ/構造化文書は箇条書きを保持

---

## Workflow 3: Before/After比較

元文とリライト文を並べて比較し、変更点と理由を提示する。

### Steps

1. **元文のスコア確認** — Workflow 1の結果を使用
2. **リライト文の再スコアリング** — リライト後テキストに再度 `detect_ai_patterns.py` を実行
3. **比較レポート生成** — 以下を含む比較レポートを作成:
   - 総合スコア比較（Before → After）
   - パターン別スコア変化
   - 主要な変更箇所のdiff表示
   - 各変更の理由（どのパターンに対応するか）
   - 残存するAI臭パターン（あれば）

---

## 6パターン検出フレームワーク

AI臭スコアの配分:

| # | Pattern | Weight | Description |
|---|---------|--------|-------------|
| 1 | 視覚的マーカー残存 | 15% | `**太字**`、`—`、`「」`過多、`（）`過多、`／` |
| 2 | 単調なリズム | 20% | 同一文末連続、接続詞過多、均一トーン |
| 3 | マニュアル的構成 | 20% | 長い前置き、構成宣言、ステップ表記、薄い結論 |
| 4 | 非コミット姿勢 | 15% | ヘッジ語、強制中立、弱い否定、断定回避 |
| 5 | 抽象語の濫用 | 15% | 実体なき抽象語、根拠なき強評価 |
| 6 | 定型メタファー | 15% | 羅針盤/地図/設計書/柱/DNA/車の両輪/潤滑油/エンジン |

### Score Interpretation

| Score | Level | Description |
|-------|-------|-------------|
| 0-25 | Natural | 人間らしい自然な文章。修正不要 |
| 26-50 | Slightly AI | やや AI的な要素あり。軽微な修正で改善可能 |
| 51-75 | Clearly AI | 明確にAI生成と分かる。リライト推奨 |
| 76-100 | Strongly AI | 強くAI臭を感じる。全面リライト推奨 |
