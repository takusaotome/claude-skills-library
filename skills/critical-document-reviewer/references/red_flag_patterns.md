# Red Flag Patterns

文書レビュー時に重点的にチェックすべき危険な表現パターン集。
これらのパターンを検出したら、必ず根拠・詳細を確認する。

## 1. 推測・不確実性の表現

### High Risk（要確認）

| Pattern | Example | Risk | Action |
|---------|---------|------|--------|
| 〜と思われる | 「問題ないと思われる」 | 根拠なしの推測 | 根拠を求める |
| おそらく | 「おそらく原因は〜」 | 不確実 | 確証を求める |
| たぶん | 「たぶん大丈夫」 | 根拠が薄い | 検証を求める |
| 〜かもしれない | 「影響があるかもしれない」 | 可能性の示唆のみ | 検証結果を求める |
| 〜と考えられる | 「妥当と考えられる」 | 推論のみ | 推論の根拠を確認 |
| 〜ではないか | 「バグではないか」 | 仮説段階 | 検証を求める |
| 〜の可能性がある | 「障害の可能性がある」 | 可能性のみ | 確率・条件を確認 |

### 検出時のアクション

```
検出: 「この設計で問題ないと思われる」

質問:
1. 「問題ない」と判断した根拠は何ですか？
2. どのような観点で検証しましたか？
3. 問題が発生するケースは検討しましたか？
```

## 2. 過度な確信の表現

### High Risk（根拠の検証必須）

| Pattern | Example | Risk | Action |
|---------|---------|------|--------|
| 明らかに | 「明らかにバグである」 | 根拠なしの断定 | 何が「明らか」か確認 |
| 当然 | 「当然こうなる」 | 暗黙の前提 | 前提の妥当性確認 |
| 当たり前 | 「当たり前の対応」 | 前提の押し付け | 前提を明示させる |
| 〜に違いない | 「メモリリークに違いない」 | 確証バイアス | 他の可能性を確認 |
| 絶対に | 「絶対に問題ない」 | 過度な確信 | 例外ケースを確認 |
| 必ず | 「必ず成功する」 | 過度な確信 | 失敗ケースを確認 |
| 間違いなく | 「間違いなく正しい」 | 過信 | 検証方法を確認 |

### 検出時のアクション

```
検出: 「明らかにデータベースがボトルネックである」

質問:
1. どのデータ・分析から「明らか」と判断しましたか？
2. 測定結果を見せてください
3. 他の要因は除外できていますか？
```

## 3. 曖昧・省略の表現

### Medium-High Risk（詳細確認必須）

| Pattern | Example | Risk | Action |
|---------|---------|------|--------|
| など / 等 | 「A、B、Cなど」 | 省略されている項目 | 全項目の列挙を求める |
| 一般的に | 「一般的にはこうする」 | 曖昧な主語 | 具体的な出典を確認 |
| 通常 | 「通常は問題ない」 | 例外の未考慮 | 例外ケースを確認 |
| 基本的に | 「基本的には対応可能」 | 例外の存在示唆 | 例外を明確化 |
| 適切に | 「適切に処理する」 | 基準不明 | 「適切」の定義を確認 |
| 十分に | 「十分な性能」 | 基準不明 | 具体的数値を確認 |
| 問題ない | 「現状で問題ない」 | 判断基準不明 | 判断根拠を確認 |
| 必要に応じて | 「必要に応じて対応」 | 判断基準不明 | 「必要」の条件を確認 |
| 適宜 | 「適宜調整する」 | 基準・タイミング不明 | 具体的条件を確認 |

### 検出時のアクション

```
検出: 「エラーが発生した場合は適切に処理する」

質問:
1. 「適切な処理」とは具体的に何をしますか？
2. エラーの種類によって処理は変わりますか？
3. ユーザーへの通知はどうしますか？
4. ログ出力の内容は？
5. リトライロジックは必要ですか？
```

## 4. 責任・範囲の曖昧化

### Medium Risk（境界の明確化必須）

| Pattern | Example | Risk | Action |
|---------|---------|------|--------|
| 〜の責任において | 「運用チームの責任において」 | 責任転嫁 | 実行可能性確認 |
| 〜次第で | 「状況次第で判断」 | 条件不明確 | 条件の明確化 |
| 想定外の場合は | 「想定外の場合は別途対応」 | 想定範囲不明 | 想定範囲の明確化 |
| 別途検討 | 「詳細は別途検討」 | 先送り | 検討時期・担当を確認 |
| 後日対応 | 「後日対応予定」 | 先送り | 期限・担当を確認 |
| TBD / 未定 | 「詳細はTBD」 | 未決定 | 決定時期を確認 |
| 要調整 | 「関係者と要調整」 | 未合意 | 調整状況を確認 |

### 検出時のアクション

```
検出: 「想定外のエラーが発生した場合は別途対応する」

質問:
1. 「想定内」のエラーとは具体的に何ですか？
2. 「想定外」の場合、誰がどう対応しますか？
3. 「想定外」が発生した場合の影響は？
4. 「想定外」を減らすために何を検討しましたか？
```

## 5. 因果関係の問題

### High Risk（論理検証必須）

| Pattern | Example | Risk | Action |
|---------|---------|------|--------|
| 〜なので | 「Aなので、Bである」 | 因果の飛躍 | 論理の連鎖を確認 |
| 〜によって | 「Aによって、Bが発生」 | 因果関係の断定 | 因果の検証を確認 |
| 〜が原因で | 「Aが原因でBが発生」 | 原因の断定 | 他の原因の検討を確認 |
| 〜の結果 | 「Aの結果、Bとなった」 | 因果の断定 | 因果関係の検証を確認 |
| 〜したら〜になる | 「Aしたら必ずBになる」 | 条件の断定 | 反例の検討を確認 |

### 検出時のアクション

```
検出: 「デプロイ直後にエラーが発生したので、デプロイが原因である」

質問:
1. デプロイと同時に他に変更されたものはありませんか？
2. 時間的な一致以外に因果関係を示す証拠はありますか？
3. ロールバックしたらエラーは解消しましたか？
4. デプロイ内容のどの部分がエラーに関係していますか？
```

## 6. 数値・定量化の問題

### Medium Risk（具体化必須）

| Pattern | Example | Risk | Action |
|---------|---------|------|--------|
| 多くの | 「多くのユーザーが要望」 | 定量化されていない | 具体的数値を確認 |
| 少ない | 「影響は少ない」 | 基準不明 | 具体的数値を確認 |
| 大幅に | 「大幅に改善」 | 程度不明 | 改善率を確認 |
| ほとんど | 「ほとんど問題ない」 | 曖昧 | 具体的状況を確認 |
| 若干 | 「若干の遅延」 | 程度不明 | 具体的数値を確認 |
| 数回 / 数件 | 「数回発生」 | 曖昧 | 正確な回数を確認 |
| 約 / およそ | 「約100件」 | 概算 | 正確な数値を確認 |

### 検出時のアクション

```
検出: 「性能が大幅に改善された」

質問:
1. 改善前後の具体的な数値は？
2. 測定方法と条件は？
3. 「大幅」とは何%の改善を指していますか？
```

## 7. 時間・期限の問題

### Medium Risk（具体化必須）

| Pattern | Example | Risk | Action |
|---------|---------|------|--------|
| 近日中に | 「近日中に対応」 | 期限不明 | 具体的日付を確認 |
| 速やかに | 「速やかに連絡」 | 基準不明 | 具体的時間を確認 |
| 随時 | 「随時更新」 | タイミング不明 | トリガーを確認 |
| 適時 | 「適時報告」 | タイミング不明 | 条件を確認 |
| なるべく早く | 「なるべく早く対応」 | 優先度不明 | 期限を設定 |

## 8. 条件・例外の問題

### High Risk（完全性確認必須）

| Pattern | Example | Risk | Action |
|---------|---------|------|--------|
| 正常な場合は | 「正常な場合は動作する」 | 異常系の未考慮 | 異常系の定義を確認 |
| 通常時は | 「通常時は問題ない」 | 非通常時の未考慮 | 非通常時を確認 |
| 特に問題がなければ | 「特に問題がなければ進行」 | 問題の定義不明 | 問題の定義を確認 |
| 原則として | 「原則として禁止」 | 例外の存在 | 例外条件を確認 |

### 検出時のアクション

```
検出: 「正常なリクエストの場合は200msで応答する」

質問:
1. 「正常」の定義は何ですか？
2. 「異常」なリクエストとは？
3. 異常時の応答時間は？
4. 異常リクエストの割合は想定していますか？
```

## 9. 複合パターン（特に危険）

### Very High Risk（重点確認）

```
パターン: 推測 + 曖昧 + 責任回避

例: 「一般的には問題ないと思われるので、運用で適宜対応する」

問題点:
- 「一般的には」→ 具体的根拠なし
- 「問題ないと思われる」→ 検証されていない
- 「運用で」→ 責任転嫁
- 「適宜対応」→ 対応内容不明

リスク: 問題発生時に誰も対応できない

アクション:
1. 具体的な検証結果を求める
2. 想定される問題と対応手順を明確化
3. 責任範囲を明確化
```

## 10. Red Flag Detection Workflow

```
1. 文書をスキャンして上記パターンを検出

2. 検出したパターンをリスト化
   - 該当箇所（行番号・引用）
   - パターン種別
   - リスクレベル

3. 各パターンに対して質問を生成

4. 重大度を判定
   - Critical: 複合パターン、根拠なし断定
   - Major: 推測表現、曖昧な基準
   - Minor: 軽微な曖昧さ
   - Info: 改善提案

5. 指摘事項として記録
```

## Quick Reference Card

### 即座にフラグを立てる表現 TOP 10

1. **「〜と思われる」** → 根拠は？
2. **「明らかに」** → 何が明らか？
3. **「適切に処理」** → 具体的には？
4. **「問題ない」** → 判断根拠は？
5. **「〜が原因」** → 検証した？
6. **「など」** → 全部列挙して
7. **「別途検討」** → いつ？誰が？
8. **「通常は」** → 例外は？
9. **「大幅に改善」** → 数値は？
10. **「想定外の場合」** → 想定範囲は？
