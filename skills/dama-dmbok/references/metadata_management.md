# Metadata Management（メタデータ管理）

## 概要

メタデータ管理は、「データに関するデータ」を管理する知識領域です。データの発見、理解、活用を促進し、データガバナンスの基盤となります。

---

## メタデータの定義

> メタデータとは、データを記述するデータ。
> データの意味、構造、品質、利用方法などを説明する情報。

---

## メタデータの種類

### 3つの主要カテゴリ

| カテゴリ | 説明 | 例 |
|---------|------|-----|
| **技術メタデータ** | データの物理的特性 | テーブル名、カラム名、データ型 |
| **業務メタデータ** | データのビジネス的意味 | 業務名称、定義、所有者 |
| **運用メタデータ** | データの使用・処理状況 | 更新頻度、アクセス履歴 |

### 詳細分類

```
メタデータ
├── 技術メタデータ
│   ├── 構造: テーブル、カラム、データ型、制約
│   ├── 物理: サイズ、パーティション、インデックス
│   └── 処理: ETLジョブ、スケジュール、依存関係
│
├── 業務メタデータ
│   ├── 定義: 業務名称、説明、定義
│   ├── 分類: カテゴリ、タグ、ドメイン
│   ├── 所有: オーナー、スチュワード
│   └── 品質: 品質スコア、ルール
│
└── 運用メタデータ
    ├── 履歴: 作成日、更新日、変更履歴
    ├── 使用: アクセス頻度、利用者、クエリ
    ├── リネージ: ソース、変換、ターゲット
    └── セキュリティ: 分類、アクセス権限
```

---

## データカタログ

### データカタログとは

データ資産の**検索可能なインベントリ**。組織内のデータを発見し、理解するためのツール。

### カタログの構成要素

```
┌─────────────────────────────────────────────────────────┐
│                    データカタログ                        │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │              検索・発見                          │   │
│  │  [🔍 データを検索...                         ]   │   │
│  │                                                 │   │
│  │  フィルター: ドメイン | 所有者 | タグ | 品質   │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌───────────────┐  ┌───────────────┐  ┌───────────────┐
│  │ 顧客データ    │  │ 商品データ    │  │ 取引データ    │
│  │ ────────────  │  │ ────────────  │  │ ────────────  │
│  │ 品質: 95%     │  │ 品質: 98%     │  │ 品質: 88%     │
│  │ Owner: 営業部 │  │ Owner: 商品部 │  │ Owner: 経理部 │
│  │ #顧客 #CRM    │  │ #商品 #ERP    │  │ #売上 #BI     │
│  └───────────────┘  └───────────────┘  └───────────────┘
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │              詳細ビュー                          │   │
│  │  ・メタデータ    ・リネージ    ・品質           │   │
│  │  ・サンプルデータ ・利用者     ・関連データ     │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### カタログの機能

| 機能 | 説明 |
|------|------|
| **検索・発見** | キーワード、フィルターでデータを検索 |
| **詳細閲覧** | メタデータ、プロファイル、サンプル表示 |
| **リネージ表示** | データの流れを可視化 |
| **コラボレーション** | コメント、評価、タグ付け |
| **アクセス管理** | アクセス申請、承認ワークフロー |

---

## ビジネス用語集

### 用語集の目的

- ビジネス用語の**統一的な定義**
- データとビジネス概念の**マッピング**
- 組織間の**共通理解**の促進

### 用語集エントリの構成

```markdown
## 用語: 顧客（Customer）

### 定義
当社と取引関係のある法人または個人。見込み顧客は含まない。

### 同義語
- クライアント（Client）
- 取引先（B2B）
- 会員（B2C）

### 関連用語
- 見込み顧客（Prospect）
- 休眠顧客（Dormant Customer）
- 優良顧客（Premium Customer）

### 属性
| 属性名 | 説明 |
|--------|------|
| 顧客ID | 一意の識別子 |
| 顧客名 | 正式名称 |
| 顧客種別 | 法人/個人 |

### 所有者
営業本部

### 関連データ資産
- CRM.CUSTOMER（顧客マスタ）
- ERP.BP_MASTER（取引先マスタ）
- DWH.DIM_CUSTOMER（顧客ディメンション）

### ガバナンス情報
- 分類: 機密
- 保持期間: 取引終了後10年
```

---

## データリネージ

### リネージとは

データの**起源（ソース）から終点（ターゲット）**までの流れを追跡する仕組み。

### リネージの種類

| 種類 | 説明 | 用途 |
|------|------|------|
| **フォワードリネージ** | ソース→ターゲット | 影響分析 |
| **バックワードリネージ** | ターゲット→ソース | 原因調査 |
| **カラムレベル** | カラム単位の追跡 | 詳細な変換追跡 |
| **テーブルレベル** | テーブル単位の追跡 | 概要把握 |

### リネージの可視化

```
         ソースシステム          変換                 ターゲット

┌──────────────────┐       ┌──────────┐       ┌──────────────────┐
│  CRM.CUSTOMER    │       │          │       │  DWH.DIM_CUSTOMER│
│ ──────────────── │       │   ETL    │       │ ──────────────── │
│ • customer_id    │──────▶│  変換    │──────▶│ • customer_key   │
│ • name           │       │  結合    │       │ • full_name      │
│ • email          │       │  集計    │       │ • email          │
│ • created_date   │       │          │       │ • source_system  │
└──────────────────┘       └──────────┘       └──────────────────┘
         │                                            │
         │                                            ▼
┌──────────────────┐                        ┌──────────────────┐
│  ERP.BP_MASTER   │                        │  BI_REPORT       │
│ ──────────────── │                        │  顧客分析レポート  │
│ • bp_id          │──────────────────────▶│                  │
│ • bp_name        │                        │                  │
│ • address        │                        │                  │
└──────────────────┘                        └──────────────────┘
```

### リネージの活用

| 用途 | 説明 |
|------|------|
| **影響分析** | ソース変更時の影響範囲特定 |
| **根本原因分析** | データ問題の原因追跡 |
| **コンプライアンス** | データの出所証明 |
| **変更管理** | 変更の影響評価 |
| **データ品質** | 品質問題の原因特定 |

---

## メタデータ収集

### 収集方法

| 方法 | 説明 | 対象 |
|------|------|------|
| **自動収集** | システムから自動抽出 | 技術メタデータ |
| **手動入力** | ユーザーが入力 | 業務メタデータ |
| **推論** | AIによる自動分類 | タグ、カテゴリ |
| **クラウドソーシング** | ユーザーからの情報追加 | 説明、コメント |

### 自動収集ソース

```
┌─────────────────────────────────────────────────────────┐
│                    メタデータ収集                        │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  データベース        ETLツール          BIツール         │
│  ┌─────────┐        ┌─────────┐       ┌─────────┐      │
│  │ カタログ │        │ ジョブ  │       │ レポート │      │
│  │ 情報    │        │ 定義    │       │ 定義    │      │
│  └────┬────┘        └────┬────┘       └────┬────┘      │
│       │                  │                 │           │
│       └──────────────────┼─────────────────┘           │
│                          ▼                             │
│                   ┌─────────────┐                      │
│                   │ メタデータ  │                      │
│                   │ リポジトリ  │                      │
│                   └─────────────┘                      │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

## メタデータ標準

### 命名標準

```
テーブル命名規則:
  [スキーマ].[エンティティ名]_[サフィックス]
  例: DWH.DIM_CUSTOMER, DWH.FACT_SALES

カラム命名規則:
  [エンティティ略称]_[属性名]_[データ型略称]
  例: CUST_ID_NUM, CUST_NAME_TXT, ORDER_DATE_DT

値の標準化:
  日付: YYYY-MM-DD
  金額: 小数点以下2桁
  コード: 大文字英数字
```

### メタデータ属性標準

| 属性 | 必須 | 説明 |
|------|------|------|
| 物理名 | ○ | システム上の名称 |
| 論理名 | ○ | 業務上の名称 |
| 定義 | ○ | 詳細な説明 |
| データ型 | ○ | VARCHAR、INT等 |
| 所有者 | ○ | Data Owner |
| 分類 | ○ | 機密レベル |
| タグ | △ | 検索用キーワード |
| 関連用語 | △ | 用語集へのリンク |

---

## ツール・テクノロジー

### データカタログツール

| ツール | 特徴 |
|--------|------|
| **Collibra** | エンタープライズ向け、ガバナンス統合 |
| **Alation** | 検索・発見に強い、AI活用 |
| **Informatica** | 統合データ管理スイート |
| **Atlan** | モダン、コラボレーション重視 |
| **DataHub** | LinkedIn発、オープンソース |
| **Apache Atlas** | Hadoopエコシステム向け |

### 選定ポイント

1. 自動収集の対応範囲
2. 検索・発見の使いやすさ
3. リネージ機能の深さ
4. コラボレーション機能
5. 既存システムとの統合
6. ガバナンス機能
